<div class="page-container">
    <!-- Page Header -->
    <div class="page-header">
        <div class="header-content">
            <h1><i class="fas fa-calendar-plus"></i> Request Leave</h1>
            <p>Submit a new leave request or edit an existing one</p>
        </div>
        <div class="header-actions">
            <button class="btn btn-outline" onclick="app.navigateTo('dashboard')">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </button>
        </div>
    </div>
    
    <!-- Editing Indicator -->
    <div id="editing-indicator" class="alert alert-warning" style="display: none;">
        <div class="alert-content">
            <div>
                <i class="fas fa-edit"></i>
                <strong>Editing Mode:</strong> You are currently editing an existing leave request.
            </div>
            <button id="cancel-edit-btn" class="btn btn-sm btn-secondary">
                <i class="fas fa-times"></i> Cancel Edit
            </button>
        </div>
    </div>
    
    <div class="content-grid">
        <!-- Leave Request Form -->
        <div class="form-section">
            <div class="section-card">
                <div class="section-header">
                    <h3><i class="fas fa-file-alt"></i> Leave Request Form</h3>
                </div>
                
                <form id="leave-request-form">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="leave-type" class="form-label">Leave Type</label>
                                <select id="leave-type" name="leave-type" class="form-control" required>
                                    <option value="">Select leave type</option>
                                    <option value="vacation">Vacation Leave</option>
                                    <option value="sick">Sick Leave</option>
                                    <option value="personal">Personal Leave</option>
                                    <option value="maternity">Maternity Leave</option>
                                    <option value="paternity">Paternity Leave</option>
                                    <option value="other">Other</option>
                                </select>
                                <div id="leave-type-info"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="start-date" class="form-label">Start Date</label>
                                <input type="date" id="start-date" name="start-date" class="form-control" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="end-date" class="form-label">End Date</label>
                                <input type="date" id="end-date" name="end-date" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Duration</label>
                        <div id="calculated-days" style="padding: 0.75rem; background: var(--light-blue); border-radius: var(--border-radius); color: var(--primary-blue);"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="reason" class="form-label">Reason</label>
                        <textarea id="reason" name="reason" class="form-control" rows="4" placeholder="Please provide a reason for your leave request..." required></textarea>
                    </div>
                    
                    <!-- File Upload Section -->
                    <div class="form-group">
                        <label class="form-label">Attachments (Optional)</label>
                        <div id="file-upload-area" class="file-upload">
                            <div class="file-upload-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <p>Click to upload or drag and drop files here</p>
                            <small>Supported formats: PDF, DOC, DOCX, JPG, PNG (Max 5MB)</small>
                        </div>
                        <input type="file" id="attachment-file" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif" style="display: none;">
                        
                        <div id="existing-attachments" style="margin-top: 1rem;"></div>
                        <div id="attachments-list" style="margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Submit Request
                        </button>
                        <button type="reset" class="btn btn-secondary" style="margin-left: 1rem;">
                            <i class="fas fa-undo"></i> Reset Form
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Quick Info Sidebar -->
        <div class="sidebar-section">
            <div class="info-card">
                <div class="info-header">
                    <h4><i class="fas fa-info-circle"></i> Leave Guidelines</h4>
                </div>
                <div class="info-content">
                    <ul class="guidelines-list">
                        <li><i class="fas fa-calendar-week"></i> Submit requests at least 2 weeks in advance</li>
                        <li><i class="fas fa-file-medical"></i> Sick leave may require medical documentation</li>
                        <li><i class="fas fa-user-check"></i> All requests require manager approval</li>
                        <li><i class="fas fa-balance-scale"></i> Check your leave balance before submitting</li>
                    </ul>
                </div>
            </div>
            
            <div class="info-card">
                <div class="info-header">
                    <h4><i class="fas fa-headset"></i> Contact HR</h4>
                </div>
                <div class="info-content">
                    <p>For questions about leave policies or urgent requests:</p>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>hr@bpn.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+1 (555) 123-4567</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Leave History -->
    <div class="history-section">
        <div id="leave-history"></div>
    </div>
</div>
